<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>你的手机号码中奖了吗</title>
    <link type="text/css" rel="stylesheet" href="css/mr-style.css">
</head>
<body>
<div class="cont">
    <input type="text" disabled="disabled" id="mr-show"><br>
    <span>按下Enter键开始，任意键结束</span>
</div>
</body>
<script>
    var rand1;
    var startFlag=false;
    //随机显示手机号码
    function showTel(){
        phoneNum1=document.getElementById('mr-show');
        phoneNum1.value=randomPhoneNumber();
    }
    //按下键盘
    window.onkeydown=function(){
        //单击键盘任意键时，<Enter>键除外
        if(startFlag==false && event.keyCode==13){
            start();            //调用start()方法
            startFlag=true;
        }
        if(startFlag==true && event.keyCode!=13){
            stop();             //调用stop()方法
            startFlag=false;
        }
    }
    //键盘事件停止
    function stop(){
        window.clearInterval(rand1);
    }
    //键盘事件启动
    function start(){
        rand1=self.setInterval(showTel,1);
        console.log(rand1);
    }
    // 根据字典生成随机序列
    var randomCode = function (len,dict) {
        for (var i = 0,rs = ''; i < len; i++)
            rs += dict.charAt(Math.floor(Math.random() * 100000000) % dict.length);
        return rs;
    };
    // 生成随机手机号码
    var randomPhoneNumber = function(){
        // 第1位是1 第2,3位是3458 第4-7位是* 最后四位随机
        return [1,randomCode(2,'3458'),'****',randomCode(4,'0123456789')].join('');
    };
</script>
</html>


